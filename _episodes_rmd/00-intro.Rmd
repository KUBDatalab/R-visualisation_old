---
title: "Before we Start"
teaching: 10
exercises: 5
questions:
- "FIX ME"
objectives:
- "Get to know factors"
keypoints:
- "This is not an introduction to R"
- "Factors are used to represent categorical data in R"
- "Visualisation is a useful way of representing data"

source: Rmd
---

MÅSKE DATASÆTTET BØR GENNEMGÅS HER SNARERE END I SETUP!

```{r, include = FALSE}
source("../bin/chunk-options.R")
knitr_fig_path("00-")
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```
### This is not an introduction to R

DET HER SKAL NOK IKKE VÆRE HER

This is a course on how to plot data using the ggplot2 library in R.

If you have no previous experience with R, you will probably not have a 
good experience in this course.

This course assumes a certain level of knowledge about R. We are not going to cover the basics, and you are expected to know how to use the following functionalities in R before starting this course.

* Have R and R-studio installed. Alternatively run everything on rstudio.cloud
* Know how to assign values to variables
* know what a function is, and how we pass input and parameters to it
* be familiar with the %>% operator
* know the basic verbs from dplyr of the tidyverse: select filter mutate arrange summarise
* be familiar with dataframes
* know how to install and load packages
* comments 
* doing math on variables 
* Get the concept of vectors 
* subsetting vectors and dataframes 
* logical tests 
* NA 
* read in data from a csv/excel

If any of these topics are unfamiliar, we strongly recommend that you either take one of our introductory courses, read up on the curriculum of one of them, or follow one of the many amazing courses you can find online, before taking this course.

Take one of our introductory courses that can be found
[https://kubkalender.kb.dk/calendar/datalab](here) or take a look at the 
accompanying website for one of them. It can 
be [https://kubdatalab.github.io/beginning-R/](found here).




## Why even visualise data?

Data can be complex. Data can be confusing. And a good visualisation of data
can reduce some of that complexity and confusion.

A good visualisation can reveal patterns in our data.

A really good visualisation can even provide insight that is difficult, or
impossible to find without.

A good example is 

kolerakortet fra London.

This map revealed that cases of cholera where clustered around a single water 
pump. The pump was closed, and the outbreak of cholera died out. 

We are not going to discover patterns of equal importance in this course.




## One introductory element in R

Factors

One concept that we do not cover in our introductory courses is *factors*.

Factors are the R way of handling categorical variables. Categorical variables,
also known as qualitative variables, are variabels that can take on one and only
one, of a limited, usually fixed, number of possible values. 

Classical examples are the roll of a six-sided die, that can only have one of the
possible outcomes of 1, 2, 3, 4, 5 or 6. The role in reproduction for a mammal
can be only female or male. Either your cell phone has power. Or it dont.

These are examples of intrinsic categorical values. 

We might also discretize continous variables, like how much battery is left on a 
cell phone. The actual value might be 55%. But we are recording only levels of 
0%, 25%, 50%, 75% and 100%. And in that case we will probably record the categorical
value as 50%.

With the data we are working with here, the cut of a diamond can be either
Fair, Good, Very Good, Premium and Ideal. 

These are categorical values. The cut of a diamond is either Fair or not-Fair.

Let us take a look at the actual values of the cut variable (of the first 6 
observations) in our dataset:
```{r}
head(diamonds$cut)
```
We see the values. And we also see that these values have *levels*, the six
categorical values that the cut of a diamond can have.

If we try to convert the values of the cut to numerical values, we can see how 
these values are actually stored by R:

```{r}
as.numeric(head(diamonds$cut))
```
R handles categorical values, factors, by assigning an integer to each value.
5 to "ideal", 4 to "Premium", 2 to "Good" etc. These are the values stored.

Associated with these values are *levels*

```{r}
levels(diamonds$cut)
```

And they appear in a specific order. 

The cut of diamonds are actually not only categorical, but also *ordinal*, meaning
that they are not just in a specific order, but that one level is "better" than
another. We see an indication here:

```{r}
head(diamonds$cut)
```
Where the "<" indicates that "Good" is better than "Fair", but worse than 
"Very good".

We can change the order of the levels of a factor using functions from the 
*forcats* library:

```{r}
fct_relevel(diamonds$cut, "Good", "Ideal") %>% 
  head()
```
Now the order is changed, because we have specified that the first two levels 
should be "Good", followed by "Ideal".

The forcats library have many other functions for working with factors. 

Regarding plotting in R, the important thing to know is that the order of things
in our plots are typically controlled by the order of factors, and that we can
change that order to suit our needs.




{% include links.md %}